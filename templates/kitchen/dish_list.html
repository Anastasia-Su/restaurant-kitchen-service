{% extends 'layouts/base_sections.html' %}
{% load static %}

{% block title %}{% endblock title %}
{% block body %} class="about-us" {% endblock body %}
{% block header %}{% endblock header %}

{% block content %}
  {% include "includes/search_form.html" %}

  <section class="pt-sm-8 pb-5 position-relative bg-gradient-dark">
    <div class="position-absolute w-100 z-inde-1 top-0 mt-n3">
      <svg width="100%" viewBox="0 -2 1920 157" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <title>wave-down</title>
        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
          <g fill="#FFFFFF" fill-rule="nonzero">
            <g id="wave-down">
              <path d="M0,60.8320331 C299.333333,115.127115 618.333333,111.165365 959,47.8320321 C1299.66667,-15.5013009 1620.66667,-15.2062179 1920,47.8320331 L1920,156.389409 L0,156.389409 L0,60.8320331 Z" id="Path-Copy-2" transform="translate(960.000000, 78.416017) rotate(180.000000) translate(-960.000000, -78.416017) "></path>
            </g>
          </g>
        </g>
      </svg>
    </div>
    <div class="container">
      <div class="row d-flex justify-content-center align-items-center">
        <div class="col-md-8 text-start mb-5 mt-5">
          <div class="d-flex justify-content-center align-items-center mb-2">
            <h3 class="text-white z-index-1 position-relative">Dishes</h3>

            <div class="d-block ms-4">
                <a href="{% url 'kitchen:dish-create' %}">
                  <button
                      type="button"
                      class="btn btn-sm btn-outline-success text-nowrap mb-0 px-3 py-2">
                    Create dish
                  </button>
                </a>
            </div>
          </div>
          <p class="text-white opacity-8 mb-0" style="text-align: center">
            Lorem, ipsum dolor sit amet consectetur adipisicing elit.
            Mollitia facere dolore voluptatum velit consequuntur dolor excepturi eum!
          </p>
        </div>
      </div>

      <div class="row d-flex justify-content-center align-items-center">
          <div class="col-lg-6 col-sm-12 col-12">
            <table class="table bg-white rounded-3">
              <thead class="thead-light">
                <tr class="bg-light">
                  <th scope="col" class="ps-2">
                    <h5>
                      <a href="?sort_by=name" class="header-link text-dark" >
                        Name
                        <i class="i-toggle fas fa-caret-down" style="display: inline"></i>&nbsp;

                      </a>
                      <a href="?sort_by=dish_type" class="header-link text-dark">
                        (Type <i class="i-toggle fas fa-caret-down" style="display: none"></i>)
                      </a>
                    </h5>
                  </th>
                  <th scope="col" class="ps-2">
                    <h5>
                      <a href="?sort_by=price" class="header-link text-dark">Price
                      <i class="i-toggle fas fa-caret-down" style="display: none"></i>
                      </a>
                    </h5>
                  </th>
                </tr>
              </thead>
              <tbody>
              {% for dish in dish_list %}
                <tr>
                  <td>
                    <h5>
                      <a
                        href="{% url 'kitchen:dish-detail' pk=dish.id %}"
                        class="text-info">
                        {{ dish.name }}
                      </a><br />
                      ({{ dish.dish_type.name }})
                    </h5>
                  </td>
                  <td class="fw-bolder">
                    <i class="fas fa-dollar-sign text-sm"></i>{{ dish.price }}
                  </td>
                </tr>
              {% endfor %}
              </tbody>
            </table>
          </div>
      </div>
    </div>
  </section>
{% endblock content %}

{% block pagination %}
    {% include "includes/pagination.html" %}
{% endblock %}

{% block javascripts %}
  <script src="/static/js/toggle_sorting_icon.js"></script>
  <script src="/static/js/toggle_hamburger_menu.js"></script>
{% endblock javascripts %}
